<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ERP題庫測驗系統</title>
  <link rel="stylesheet" href="style.css">
</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4PT4DH6HKX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-4PT4DH6HKX');
</script>
<body>
  <h1 id="title">ERP測驗系統</h1>
  <button id="toggleDarkMode" class="button floating-button">B</button>

  <!-- 初始化區塊(主頁面) -->
  <div class="container" id="mainPage">
    <h3>請選擇章節</h3> 
    <!-- 多選章節區塊 -->
    <div class="chapter-select" id="chapterSelect">
      <!-- 全選 Checkbox -->
      <label>
        <input type="checkbox" id="selectAll" checked>
        全選
      </label>
    </div>

    <div class="input-group">
      <label for="questionCount" id="questionCountLabel">請輸入題數（1-452）：</label>
      <input type="number" id="questionCount" min="1" max="452" value="50">
      <button class="button_qc" id="qc_10">10</button>
      <button class="button_qc" id="qc_50">50</button>
      <button class="button_qc" id="qc_100">100</button>
      <br>
      <button class="button" id="startbtn">開始測驗</button>
      <!-- 回顧所有錯題按鈕 -->
      <button class="button" id="reviewAllWrongBtn">回顧所有錯題</button>
      <div class="announcement">
        <p>※公告: v2.5.4 更新黑暗模式，右下角的圓可以切換模式</p>
        <p>Believe you can and you're halfway there. Must pass the exam.</p>
      </div>
    </div>

    <div class="history">
      <h2>測驗歷史</h2>
      <ul id="historyList"></ul>
    </div>
  </div>

  <!-- 答題區塊 -->
  <div class="container hidden" id="quizPage">
    <div class="progress-bar" id="progress-bar">
      <div class="progress"></div>
    </div>
    <div id="questions"></div>
    <div class="button-group">
      <button class="button" id="submitBtn">繳交</button>
      <button class="button" id="continueBtn" style="display: none;">繼續</button>
      <button class="button" id="cancelBtn" style="display: none;">取消</button>
    </div>
    <div class="score" id="score"></div>
  </div>

  <!-- 回顧某次測驗的頁面 -->
  <div class="container hidden" id="reviewPage">
    <div id="reviewHeader" class="review-header"></div>
    <button class="button" id="toggleWrongBtn">顯示錯誤題目</button>
    <button class="button" id="ageinWrongBtn">再試一次</button>
    <div id="reviewQuestions" class="review-container"></div>
    <div class="button-group">
      <button class="button" id="backToMainPageBtn">返回初始頁面</button>
    </div>
  </div>

  <!-- 回顧所有錯題的頁面 -->
  <div class="container hidden" id="allWrongPage">
    <h2>錯題回顧</h2>
    <button class="button" id="ReCheckWrongBtn">錯誤題目練習</button>
    <div id="allWrongList"></div>
    <div class="button-group">
      <button class="button" id="backToMainPageFromWrong">回上一頁</button>
    </div>
  </div>
  
  <h5>By CYUT IM Damian Hsu v2.5.4</h5>
  <h6>Bug Report Email : imyudieok@gmail.com</h6>

  <script src="script.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
</body>
</html>